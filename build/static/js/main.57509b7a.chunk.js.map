{"version":3,"sources":["components/Phonebook.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","props","onSubmit","valueName","onChangeName","valueNumber","onChangeNumber","type","Persons","persons","onButtonClick","map","person","index","name","number","onClick","Notification","message","style","color","background","fontStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","baseUrl","axios","get","newObject","post","id","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","interactionMessage","setInteractionMessage","errorMessage","setErrorMessage","useEffect","personService","then","response","data","filteredContacts","filter","toLowerCase","includes","event","target","preventDefault","noteObject","some","item","window","confirm","updateID","find","setTimeout","catch","error","concat","console","log","removeID","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.57509b7a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div>\r\n        filter shown with: <input\r\n          value={value}\r\n          onChange={onChange}\r\n          />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.onSubmit}>\r\n        <div>\r\n          name: <input\r\n          value={props.valueName}\r\n          onChange={props.onChangeName}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input\r\n          value={props.valueNumber}\r\n          onChange={props.onChangeNumber}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst Persons = ({persons, onButtonClick}) => {\r\n  return (\r\n    persons.map(function(person, index){\r\n        return (\r\n          <div key={ person.name }>\r\n            <span key={ person.name }>{person.name} {person.number}</span>\r\n            <button onClick={() => onButtonClick(person.name)}>delete</button>\r\n          </div>\r\n        )\r\n      })\r\n  )\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontStyle: 'solid',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 10,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n\r\n  const errorMessageStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontStyle: 'solid',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 10,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={errorMessageStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport {Filter, PersonForm, Persons, Notification, ErrorMessage};","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport {Filter, PersonForm, Persons, Notification, ErrorMessage} from './components/Phonebook'\r\nimport personService from './services/persons'\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newSearch, setNewSearch ] = useState('')\r\n  const [interactionMessage, setInteractionMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }, [])\r\n\r\n  const handleNoteChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleSearchChange = (event) => {\r\n    setNewSearch(event.target.value)\r\n  }\r\n\r\n  const addNote = (event) => {\r\n    event.preventDefault()\r\n    const noteObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (persons.some(item => item.name === newName)){\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        const updateID = persons.find(person => person.name === newName).id\r\n        personService\r\n          .update(updateID, noteObject)\r\n          .then(response => {\r\n            setPersons(persons.map(person => person.id !== updateID ? person : response.data))\r\n            setInteractionMessage(\r\n              `Updated ${response.data.name}'s phone number`\r\n            )\r\n            setTimeout(() => {\r\n              setInteractionMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(\r\n              `Information of ${newName} has already been removed from server`\r\n            )\r\n            setPersons(persons.filter(person => person.id !== updateID))\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n      return\r\n    }\r\n    personService\r\n      .create(noteObject)\r\n      .then(response => {\r\n        setPersons(persons.concat(response.data))\r\n        setInteractionMessage(\r\n          `Added ${response.data.name}`\r\n        )\r\n        setTimeout(() => {\r\n          setInteractionMessage(null)\r\n        }, 5000)\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data.error)\r\n        setErrorMessage(error.response.data.error)\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n  \r\n  const removeNote = (name) => {\r\n    const removeID = persons.find(person => person.name === name).id\r\n    personService\r\n      .remove(removeID)\r\n      .then(response => {\r\n        setPersons(persons.filter(person => person.id !== removeID))\r\n        setInteractionMessage(\r\n          `Removed ${name}`\r\n        )\r\n        setTimeout(() => {\r\n          setInteractionMessage(null)\r\n        }, 5000)\r\n      })\r\n  }\r\n\r\n  let filteredContacts = ( newSearch === '' ? persons : persons.filter(function(person){\r\n    return person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n  }))\r\n  \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={interactionMessage} />\r\n      <ErrorMessage message={errorMessage} />\r\n      <Filter value={newSearch} onChange={handleSearchChange} />\r\n      <h2>add a new</h2>\r\n      <PersonForm \r\n        onSubmit={addNote}\r\n        valueName={newName}\r\n        onChangeName={handleNoteChange}\r\n        valueNumber={newNumber}\r\n        onChangeNumber={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons \r\n        persons={filteredContacts}\r\n        onButtonClick={removeNote}\r\n      />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n)\r\n\r\n"],"sourceRoot":""}